{% extends 'layout.html' %}

{% block header %}
  <h1>{% block title %}Yhteenveto{% endblock %}</h1>
{% endblock %}

{% block content_1 %}
<form action="/summary" method="GET">
    <input type="month" name="time_from">
    <input type="month" name="time_to">
    <input type="submit" value="Hae">
</form>
{% endblock %}


{% block header_3 %}
{% if time_from %}
{{ time_from.strftime("%d.%m.%Y") }} - {{ time_to.strftime("%d.%m.%Y") }}
{% endif %}
{% endblock %}

{% block content_2 %}
{% if total %}
<div class="container">
    <div id="categories" class="row justify-content-center">
            <table class="table table-striped table-bordered w-auto table-sm text-secondary">
                <tr>
                    <th>Kategoria</th>
                    <th>Alakategoria</th>
                    <th>Yhteensä €</th>
                    <th>Tapahtumia kpl</th>
                </tr>
                {% for by_category in by_categories %}
                <tr>
                    <td>{{ by_category[0] }}</td>
                    <td>{{ by_category[1] }}</td>
                    <td>{{ by_category[2] }}</td>
                    <td>{{ by_category[3] }}</td>
                </tr>
                {% endfor %}
            </table>
    </div>
    <div class="row justify-content-center">
        <h3>
        </h3>
    </div>

    <div id="monthly" class="row justify-content-center">
            <table class="table table-striped table-bordered w-auto table-sm text-secondary">
                <tr>
                    <th>Vuosi</th>
                    <th>kk</th>
                    <th class="text-right">Tulot €</th>
                    <th>Budjetoidut tulot €</th>
                    <th>Menot €</th>
                    <th>Budjetoidut menot €</th>
                    <th>Tulot vs. Menot €</th>
                    <th>Menobudjetti vs. Menot €</th>
                </tr>
                {% for result in monthly_result %}
                <tr>
                    <td>{{ result[0] }}</td>
                    <td>{{ result[1] }}</td>
                    <td class="text-right">{{ result[2] }}</td>
                    <td>{{ result[3] }}</td>
                    <td>{{ result[4] }}</td>
                    <td>{{ result[5] }}</td>
                    <td>{{ result[6] }}</td>
                    <td>{{ result[7] }}</td>
                </tr>
                {% endfor %}
                <tr>
                    <th>Yhteensä</th>
                    <th>{{ total[0] }}</th>
                    <th>{{ total[1] }}</th>
                    <th>{{ total[2] }}</th>
                    <th>{{ total[3] }}</th>
                    <th>{{ total[4] }}</th>
                    <th>{{ total[5] }}</th>
                    <th>{{ total[6] }}</th>
                </tr>
            </table>
        
    </div>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
{% endblock %}
