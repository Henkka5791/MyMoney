{% extends 'layout.html' %}

{% block styles %}
{% endblock %}

{% block header %}
  <h1>{% block title %}Vuoden {{ year }} budjetti{% endblock %}</h1>
{% endblock %}

{% block content %}
<a href="/">Kotiin</a>
<table class="table table-striped w-auto table-sm">
    
    {% for sum in sums %}
    <tr>
        <td>{{ sum[0]}}: {{ sum[1] }}</th>
    </tr>
    {% endfor %}
</table>
<br>
<form action="/budgets/{{ year }}" method="POST">
<table class="table table-striped table-bordered w-auto table-sm" 
    data-pagination="true" 
    data-toggle="table" 
    data-page-size=12
    data-pagination-h-align='left'
    data-pagination-parts=['pageInfoShort','pageList']
    data-search="true">
    <thead>
        <tr>
            <th data-sortable="true" data-searchable="true">Kategoria</th>
            <th data-sortable="true">Budjetti</th>
            <th data-sortable="true">Kuukausi</th>
            <th>Uusi budjetti</th>
        </tr>
    </thead>
    <tbody>
        {% for budget in year_budget %}   
        <tr>
            <td>{{ budget[0] }}</td>
            <td>{{ budget[1] }}</td>
            <td>{{ budget[2]|int }}</td>
            <td><input type="TEXT" value="{{ budget[1] }}" name="amount"><input type="HIDDEN" value="{{ budget[3] }}" name="budget_id"></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<input type="submit" value="Tallenna">
</form>
{% endblock %}
{% block scripts %}
<script>
    $(document).ready(function() {
        $('.display').DataTable();
    });
</script>
{% endblock %}
    

